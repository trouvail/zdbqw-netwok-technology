# 网络技术与应用课程报告

## ***第四次实验报告***
---

> **学号：2013921\
姓名：周延霖\
年级：2020级\
专业：信息安全**


## 一、实验内容说明
---

### 1、实体环境下互联网组网与路由器配置


**要求如下：**

1. 在机房实验室环境下，通过将局域网划分为不同子网，用多IP主机作为路由器，组建互联网
2. 在命令行方式下，按照静态路由方式，配置路由器和主机，测试互联网的连通性



### 2、仿真环境下的互联网组网与路由器配置



**要求如下：**

1. 学习路由器的配置方法和配置命令
2. 参考实体实验，组建由多个路由器组成的互联网。物理网络可以由集线器、交换机构成
3. 按照静态路由方式配置路由器和主机，测试互联网的连通性
4. 利用动态路由方式配置路由器和主机，测试互联网的连通性
5. 在仿真环境的“模拟”方式中观察数据包在互联网中的传递过程，并进行分析



## 二、前期准备
---

### 1、实体环境下互联网组网与路由器配置


在机房中的实体环境下使用4台电脑来完成本次实验，其中的两台电脑是配置双网卡使得其可以充当成一个路由器。

#### (1)拓扑图



![](https://i.imgtg.com/2022/11/10/tWaJF.png)



#### (2)`ip`地址分配

> 由于实验室环境中大家的主机较多，所以并没有按照拓扑图中的`IP`地址进行分配，而是选用可以与他人不同的地址，这样可以检验是否是自己配置成功的


| PC机或端口号 | IPv4 Address | Subnet Mask | 网关 |
| :----: | :----: | :----: | :----: |
| 主机A | 179.181.0.1 | 255.255.0.0 | 179.181.0.2 |
| 主机B | 179.183.0.2 | 255.255.0.0 | 179.183.0.1 |
| 路由器R1 左端 | 179.181.0.2 | 255.255.0.0 |  |
| 路由器R1 右端 | 179.182.0.2 | 255.255.0.0 |  |
| 路由器R2 左端 | 179.182.0.1 | 255.255.0.0 |  |
| 路由器R2 右端 | 179.183.0.1 | 255.255.0.0 |  |





### 2、仿真环境下的互联网组网与路由器配置


#### (1)拓扑图



> 由于静态网络和动态网络采用相同的拓扑图，所以在此只列出一次


![](https://i.imgtg.com/2022/11/10/tWT0l.png)




#### (2)`ip`地址分配


> 由于静态网络和动态网络采用相同的`ip`地址分配，所以在此只列出一次



| PC机或端口号 | IPv4 Address | Subnet Mask | 网关 |
| :----: | :----: | :----: | :----: |
| PC0 | 10.2.0.1 | 255.255.0.0 | 10.2.0.2 |
| PC1 | 10.2.0.3 | 255.255.0.0 | 10.2.0.2 |
| PC2 | 10.3.0.3 | 255.255.0.0 | 10.3.0.1 |
| PC3 | 10.3.0.2 | 255.255.0.0 | 10.3.0.1 |
| Router0 Gig0/0 | 10.2.0.2 | 255.255.0.0 |  |
| Router0 Gig0/1 | 10.1.0.2 | 255.255.0.0 |  |
| Router1 Gig0/0 | 10.3.0.1 | 255.255.0.0 |  |
| Router1 Gig0/1 | 10.1.0.1 | 255.255.0.0 |  |



## 三、实验过程
---

本次实验由两个部分组成，一个是在实体环境下对四台主机分别进行ip地址的分配和路由的配置，另一个是在仿真环境下进行路由分配的测试，下面将从这两个方面对本次实验过程进行介绍。


### 1、实体环境下互联网组网与路由器配置




### (1)配置两台主机


本次的四台主机都是`Windows 7`的系统，在电脑桌面上打开`网络和共享中心`后选择`本地连接`，然后将前期准备中提到的`IP地址`设置到这两台主机中，并为其设置相应的网关，配置完成后如以下两张图片所示：


![](https://i.imgtg.com/2022/11/10/tWyzp.png)


![](https://i.imgtg.com/2022/11/10/tWZXj.png)


### (2)配置两台路由器

接下来到剩下的两台主机中配置相应的`IP地址`，两台作为路由器的电脑需要配置单网卡多IP，也是先打开`网络和共享中心`后选择`本地连接`，接下来在配置路由界面的`高级`选项中为其进行配置前期准备中设置好的`IP地址`，配置过程如下图所示：


![](https://i.imgtg.com/2022/11/10/tkhqC.png)


配置好路由器后可以看到如下所示的两张图片：

![](https://i.imgtg.com/2022/11/10/tkkka.png)


![](https://i.imgtg.com/2022/11/10/tkxmS.png)





### (3)配置路由器转发表

在配置完路由器的`IP地址`后，需要设置其下一跳，设置完成后可以看到路由转发表如下两图所示：

![](https://i.imgtg.com/2022/11/10/tknSi.png)

![](https://i.imgtg.com/2022/11/10/tkiAL.png)

### (4)服务与防火墙


最后还需要开启路由器的转发服务和关闭所有的四台主机的防火墙服务，首先开启两台路由器的转发服务，如下图所示：


![](https://i.imgtg.com/2022/11/10/tk1CX.png)


随后关闭防火墙即可。

### (5)实验结果


使用`ping`和`tracert`命令，跟踪路由转发过程，可以看到以下图片：


![](https://i.imgtg.com/2022/11/10/tkNnt.png)


能够发现结果与设计图相一致。



### 2、仿真环境下的互联网组网与路由器配置

在仿真环境下分为静态路由和动态路由两部分：


> 静态路由


### (1)配置PC机`IP地址`


按照前期准备的介绍配置四个PC机的IP和默认网关，配置的具体方法已经在验证实验一中详细介绍，这里就不再赘述。


### (2)配置路由器`IP地址`


- 打开路由器的CLI界面，使用下图的指令分别配置两个路由器的接口Gig0/0、Gig0/1

![](https://i.imgtg.com/2022/11/10/tkvYY.png)



### (3)配置路由表

使用指令`ip route 目标网络 掩码 下一条IP地址`，在路由器的cli中添加表项

```
- ip route 10.3.0.0 255.255.0.0 10.1.0.1
- ip route 10.2.0.0 255.255.0.0 10.1.0.2
```


并使用指令`show ip route`查看表项，以上两个操作如下图所示：

![](https://i.imgtg.com/2022/11/11/tFzYD.png)



### (4)数据报传输模拟

在仿真环境下的模拟中模拟数据报的传输，可以看到是可以通过左边的网络传递到右边的网络的，如下图所示：


![](https://i.imgtg.com/2022/11/10/tkeDx.png)


### (5)实验结果

在其中一个终端的命令行中使用`ping`命令追踪数据流，如下图所示:


![](https://i.imgtg.com/2022/11/11/tFiA6.png)


在其中一个终端的命令行中使用`tracert`命令追踪数据流，如下图所示:



![](https://i.imgtg.com/2022/11/11/tFh5F.png)




可以看到最后得到的结果与设计图一致。





> 动态路由



### (1)配置说明

使用与静态路由完全相同的拓扑图和IP配置，所以其配置直接参照静态路由的配置方法配置即可，在这里就不再进行赘述。


### (2)配置RIP


先在两台路由器下进入`RIP`配置模式，其版本为可以处理子网编制为`version 2`版本，并为其配置直接相连的网络，最后在两台路由器下的配置界面如下图所示：

![](https://i.imgtg.com/2022/11/11/tFKks.png)




### (3)实验结果


在其中一个终端的命令行中使用`ping`和`tracert`命令追踪数据流，如下图所示:



![](https://i.imgtg.com/2022/11/11/tFnSP.png)




可以看到最后得到的结果与设计图一致。












## 四、特殊现象分析
---

本次实验的仿真实验一切进行都是十分顺利的，但是在进行实体的实验的时候出现了以下两个问题：

### (1)服务

首先，第一次将所有的东西安实验过程中的配好之后，`ping`却请求超时，冷静思考之后想起来是有一台路由器的服务光应用了，但没有开启，所以开启后重新进行`ping`。


### (2)防火墙

但是还是没有成功，也有考虑过防火墙的问题，但是我记得已经将两台主机的防火墙都关闭了，所以百思不得其解。在询问了旁边的同学之后，发现需要两台路由器的防火墙也需要关闭，在进行了此操作后，就成功`ping`通了，关于实体机的实验也到此结束。



## 五、总结与展望
---

### (1)总结
本次实验是网络技术与应用的第四次实验，本次实验首先在四台实体计算机上模拟路由的配置与转发，随后也在仿真环境下对静态和动态路由进行了模拟，使我对路由器的相关知识更加的熟悉，也对网络方面的知识更加的了解，在网络方面的认知也更上一层楼。



### (2)展望
本门课程是与计算机网络课相辅相成的一门课，通过上这门课使得对计算机网络课有些不理解的地方有了更多的感悟，对网络也有了更多的兴趣，期望自己在这学期未来实验的更好的发展，`万事胜意、心想事成`。